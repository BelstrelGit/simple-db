## Управление таблицами

Поддерживаемые типы данных: `int`, `str`, `bool`.  
Если столбец `ID:int` не указан пользователем, он добавляется автоматически в начало.

### Операции работы с таблицами
- `create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...` — создать таблицу  
- `list_tables` — показать список всех таблиц  
- `drop_table <имя_таблицы>` — удалить таблицу  
- `help` — справочная информация  
- `exit` — выйти


### Пример работы с таблицами

>>> database

>>>Введите команду: create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool

>>>Введите команду: create_table users name:str
Ошибка: Таблица "users" уже существует.

>>>Введите команду: list_tables
- users

>>>Введите команду: drop_table users
Таблица "users" успешно удалена.

>>>Введите команду: drop_table products
Ошибка: Таблица "products" не существует.

>>>Введите команду: help
***Процесс работы с таблицей***
Функции:
<command> create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу
<command> exit - выход из программы
<command> help- справочная информация





### Операции с данными

Функции:
<command> insert into <имя_таблицы> values (<значение1>, <значение2>, ...) - создать запись.
<command> select from <имя_таблицы> where <столбец> = <значение> - прочитать записи по условию.
<command> select from <имя_таблицы> - прочитать все записи.
<command> update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия> - обновить запись.
<command> delete from <имя_таблицы> where <столбец> = <значение> - удалить запись.
<command> info <имя_таблицы> - вывести информацию о таблице.
<command> exit - выход из программы
<command> help- справочная информация


### Пример работы с данными 

>>> database
>>> Введите команду: insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>> Введите команду: select from users where age = 28
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei | 28  |    True   |
+----+--------+-----+-----------+

>>> Введите команду: update users set age = 29 where name = "Sergei"
Запись с ID=1 в таблице "users" успешно обновлена.

>>> Введите команду: delete from users where ID = 1
Запись с ID=1 успешно удалена из таблицы "users".

>>> Введите команду: info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 0



## Функциональные возможности (декораторы)

В проект добавлены «обёртки» для повышения надёжности и безопасности.

### 1) Единая обработка ошибок
Все команды, работающие с данными/файлами, обёрнуты в декоратор `handle_db_errors`.  
Он перехватывает типовые исключения и печатает понятные сообщения, не прерывая работу приложения:

- `FileNotFoundError` — файл данных не найден (например, таблица ещё не сохранялась)
- `KeyError` — несуществующая таблица/столбец
- `ValueError` — ошибки валидации данных (неверные типы, количество полей и т.п.)
- прочие ошибки — краткое сообщение о непредвидённой ошибке

Это позволяет не дублировать `try...except` в каждой функции.

### 2) Подтверждение опасных операций
Перед потенциально опасными действиями запрашивается подтверждение через декоратор `confirm_action(...)`.

Где применяется:
- `drop_table <имя>` — удаление таблицы
- `delete from <имя_таблицы> where ...` — массовое удаление записей по условию

Как выглядит:
при вводе команды drop_table или delete пользователь видимо сообщение:
`Вы уверены, что хотите выполнить "удаление таблицы"? [y/n]:`
Если ответ не `y`, операция отменяется:





## Демонстрация работы базы данных (asciinema)

[![asciicast](https://asciinema.org/a/kVF9XeK2LpKaf3br9HrHa0Iou)](https://asciinema.org/a/kVF9XeK2LpKaf3br9HrHa0Iou)



## Установка и запуск (через Makefile)

`Установить зависимости (dev-режим):`
make install

`Собрать wheel:`
make build

`Установить собранный пакет в систему:`
make package-install

`Проверка кода:`
make lint

`Публикация (dry-run):`
make publish

`Запустить приложение:`
database